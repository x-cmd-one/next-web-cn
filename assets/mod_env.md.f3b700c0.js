import{_ as r,C as l,o as y,c as d,H as n,w as i,k as s,a,Y as o}from"./chunks/framework.98e11516.js";const q=JSON.parse('{"title":"x env","description":"x env | x-cmd module | 环境管理","frontmatter":{"head":[["meta",{"name":"og:title","content":"x env | x-cmd"}],["meta",{"name":"og:description","content":"环境管理"}],["meta",{"name":"description","content":"x env | x-cmd module | 环境管理"}]],"links":[{"type":"pkg","link":"/pkg/jq","text":"查看 `x env` 支持的命令行软件包"}]},"headers":[],"relativePath":"mod/env.md","filePath":"mod/env.md"}'),E={name:"mod/env.md"},h=s("h1",{id:"x-env",tabindex:"-1"},[a("x env "),s("a",{class:"header-anchor",href:"#x-env","aria-label":'Permalink to "x env"'},"​")],-1),F=s("p",{class:"x-desc"},"环境管理",-1),v=o('<h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><p>env模块是建立在pkg模块( X 的包管理模块)的基础上，是一个管理开发环境和依赖项的工具，用来全局管理所有通过 x 下载的所有软件，插件和语言的版本和环境。</p><p>我们注意到当前主流的环境管理工具大部分都是针对某种特定语言，如 node的nvm， Ruby的rvm，Python的pyenv等</p><p>不同的语言需要安装不同的工具，这增加了许多繁琐的操作和学习成本。</p><p>在此背景下，我们制作了自己的环境管理模块，通过使用env，可以同时管理多个不同的语言和软件。允许开发人员在不同项目之间轻松切换环境配置，确保项目之间的隔离性，以及方便地共享项目的依赖项。</p><p>在实现 env 模块过程中，我们除了参考了当前主流的环境管理工具，我们还把重点放在如何实现非全局的情况下，快速使用和切换不同的版本， 并结合 advise 模块和 tui 模块做到更好的使用体验。</p><h2 id="全局环境与非全局环境的实现方式" tabindex="-1">全局环境与非全局环境的实现方式 <a class="header-anchor" href="#全局环境与非全局环境的实现方式" aria-label="Permalink to &quot;全局环境与非全局环境的实现方式&quot;">​</a></h2><ol><li>全局环境： 我们采用了软连接的方式，在当前及以后新打开的环境中都使用这个环境</li><li>非全局环境：</li><li>第一种非全局环境，我们用了添加环境变量的方式，只在当前会话中起效</li><li>第二种非全局模式是针对某个项目或文件，只有在执行这个项目和文件时才使用特定的环境，采用了记录和复原的方式。</li></ol>',8),g=o('<h2 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-label="Permalink to &quot;例子&quot;">​</a></h2><p>在当前和以后的session中使用 node v20.3.0 和 java 18.2.0-sem的环境</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v20.</span><span style="color:#79B8FF;">3.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">java=18.2.0-sem</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v20.</span><span style="color:#005CC5;">3.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">java=18.2.0-sem</span></span></code></pre></div><p>在当前的session中使用 node v20.3.0 和 java 18.2.0-sem的环境</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">try</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v20.</span><span style="color:#79B8FF;">3.0</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">java=18.2.0-sem</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">try</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v20.</span><span style="color:#005CC5;">3.0</span><span style="color:#24292E;"> </span><span style="color:#032F62;">java=18.2.0-sem</span></span></code></pre></div><p>列出可用的 node 的版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">all</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> </span><span style="color:#032F62;">all</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node</span></span></code></pre></div><p>在当前及以后的环境中使用 go 的1.17.13版本, python 的 pypy3.9-v7.3.9版本, node 的 v18.12.0版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go=1.17.13</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">python=pypy3.</span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">-v7.</span><span style="color:#79B8FF;">3.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go=1.17.13</span><span style="color:#24292E;">  </span><span style="color:#032F62;">python=pypy3.</span><span style="color:#005CC5;">9</span><span style="color:#032F62;">-v7.</span><span style="color:#005CC5;">3.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span></span></code></pre></div><p>使用版本为 v18.12.0 node 环境运行 helloworld.js 文件</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exec</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">helloworld.js</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exec</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node</span><span style="color:#24292E;"> </span><span style="color:#032F62;">helloworld.js</span></span></code></pre></div><h2 id="子命令" tabindex="-1">子命令 <a class="header-anchor" href="#子命令" aria-label="Permalink to &quot;子命令&quot;">​</a></h2>',12),u=o('<h3 id="x-env-ls" tabindex="-1">x env ls <a class="header-anchor" href="#x-env-ls" aria-label="Permalink to &quot;x env ls&quot;">​</a></h3><p>列出正在使用或可用的候选版本</p><ul><li><strong>子命令</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td><a href="#x-env-ls-use">x env ls use</a></td><td>列出所有正在使用的候选版本</td></tr><tr><td><a href="#x-env-ls-all">x env ls all</a></td><td>列出所有可用的 包 的版本</td></tr></tbody></table></div><h3 id="x-env-ls-use" tabindex="-1">x env ls use <a class="header-anchor" href="#x-env-ls-use" aria-label="Permalink to &quot;x env ls use&quot;">​</a></h3><p>列出所有正在使用的候选版本</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">u</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">u</span></span></code></pre></div><h3 id="x-env-ls-all" tabindex="-1">x env ls all <a class="header-anchor" href="#x-env-ls-all" aria-label="Permalink to &quot;x env ls all&quot;">​</a></h3><p>列出所有可用的 包 的版本</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">all</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#F97583;">1&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> </span><span style="color:#032F62;">all</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#D73A49;">1&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#1</code></td><td>所有可用的 包</td></tr></tbody></table></div><h3 id="x-env-try" tabindex="-1">x env try <a class="header-anchor" href="#x-env-try" aria-label="Permalink to &quot;x env try&quot;">​</a></h3><p>在此 shell 的会话中设置环境版本</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">try</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#E1E4E8;">n</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">try</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#24292E;">n</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#n</code></td><td>需要在当前终端使用的软件包。&lt;软件包名&gt;=&lt;版本号&gt;</td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>在当前会话中使用 go 的1.17.13版本, python 的 pypy3.9-v7.3.9版本, node 的 v18.12.0版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">try</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go=1.17.13</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">python=pypy3.</span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">-v7.</span><span style="color:#79B8FF;">3.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">try</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go=1.17.13</span><span style="color:#24292E;">  </span><span style="color:#032F62;">python=pypy3.</span><span style="color:#005CC5;">9</span><span style="color:#032F62;">-v7.</span><span style="color:#005CC5;">3.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span></span></code></pre></div><h3 id="x-env-untry" tabindex="-1">x env untry <a class="header-anchor" href="#x-env-untry" aria-label="Permalink to &quot;x env untry&quot;">​</a></h3><p>停用并记录环境版本</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">untry</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#E1E4E8;">n</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">untry</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#24292E;">n</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#n</code></td><td>当前终端需要停用的软件包。&lt;软件包名&gt;=&lt;版本号&gt;</td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>在当前会话中取消使用 go 的1.17.13版本, python 的 pypy3.9-v7.3.9版本, node 的 v18.12.0版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">untry</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go=1.17.13</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">python=pypy3.</span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">-v7.</span><span style="color:#79B8FF;">3.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">untry</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go=1.17.13</span><span style="color:#24292E;">  </span><span style="color:#032F62;">python=pypy3.</span><span style="color:#005CC5;">9</span><span style="color:#032F62;">-v7.</span><span style="color:#005CC5;">3.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span></span></code></pre></div><h3 id="x-env-boot" tabindex="-1">x env boot <a class="header-anchor" href="#x-env-boot" aria-label="Permalink to &quot;x env boot&quot;">​</a></h3><p>设置必要的环境变量。例如 java 的 JAVA_HOME</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">boot</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#F97583;">1&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">boot</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#D73A49;">1&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#1</code></td><td>需要激活软件包。&lt;软件包名&gt;=&lt;版本号&gt;</td></tr></tbody></table></div><h3 id="x-env-remove" tabindex="-1">x env remove <a class="header-anchor" href="#x-env-remove" aria-label="Permalink to &quot;x env remove&quot;">​</a></h3><p>删除指定软件包的指定版本，若不指定版本则删除当前由 x env use 设置的版本</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remove</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#E1E4E8;">n</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remove</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#24292E;">n</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#n</code></td><td>待删除的软件包. &lt;软件包名&gt;=&lt;版本号&gt;</td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>删除 go=v1.17.13 python node=v18.12.0 的版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remove</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go=v1.</span><span style="color:#79B8FF;">17.13</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">python</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remove</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go=v1.</span><span style="color:#005CC5;">17.13</span><span style="color:#24292E;"> </span><span style="color:#032F62;">python</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span></span></code></pre></div><h3 id="x-env-use" tabindex="-1">x env use <a class="header-anchor" href="#x-env-use" aria-label="Permalink to &quot;x env use&quot;">​</a></h3><p>设置全局环境版本</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#E1E4E8;">n</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#24292E;">n</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#n</code></td><td>需要使用的软件包。&lt;软件包名&gt;=&lt;版本号&gt;</td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>在当前及以后的环境中使用默认 go 的最新稳定版本, node 的 v17 大版本的最新稳定版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v17</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v17</span></span></code></pre></div><p>在当前及以后的环境中使用 go 的1.17.13版本, python 的 pypy3.9-v7.3.9版本, node 的 v18.12.0版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go=1.17.13</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">python=pypy3.</span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">-v7.</span><span style="color:#79B8FF;">3.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go=1.17.13</span><span style="color:#24292E;">  </span><span style="color:#032F62;">python=pypy3.</span><span style="color:#005CC5;">9</span><span style="color:#032F62;">-v7.</span><span style="color:#005CC5;">3.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span></span></code></pre></div><h3 id="x-env-unuse" tabindex="-1">x env unuse <a class="header-anchor" href="#x-env-unuse" aria-label="Permalink to &quot;x env unuse&quot;">​</a></h3><p>删除环境</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unuse</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#E1E4E8;">n</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unuse</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#24292E;">n</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#n</code></td><td>需要停用的软件包。&lt;软件包名&gt;=&lt;版本号&gt;</td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>在当前及以后的环境中不使用 go 的1.17.13版本, python 的 pypy3.9-v7.3.9版本, node 的 v18.12.0版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unuse</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">go=1.17.13</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">python=pypy3.</span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">-v7.</span><span style="color:#79B8FF;">3.9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node=v18.</span><span style="color:#79B8FF;">12.0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unuse</span><span style="color:#24292E;"> </span><span style="color:#032F62;">go=1.17.13</span><span style="color:#24292E;">  </span><span style="color:#032F62;">python=pypy3.</span><span style="color:#005CC5;">9</span><span style="color:#032F62;">-v7.</span><span style="color:#005CC5;">3.9</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node=v18.</span><span style="color:#005CC5;">12.0</span></span></code></pre></div><h3 id="x-env-exec" tabindex="-1">x env exec <a class="header-anchor" href="#x-env-exec" aria-label="Permalink to &quot;x env exec&quot;">​</a></h3><p>使用选定的候选版本运行可执行文件</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exec</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#F97583;">1&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exec</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#D73A49;">1&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#1</code></td><td>可执行文件的路径</td></tr></tbody></table></div><h3 id="x-env-which" tabindex="-1">x env which <a class="header-anchor" href="#x-env-which" aria-label="Permalink to &quot;x env which&quot;">​</a></h3><p>显示已安装环境的路径</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">which</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#F97583;">1&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">which</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#D73A49;">1&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#1</code></td><td>已下载的软件名</td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>显示当前使用的 node 的安装环境的路径</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">which</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">which</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node</span></span></code></pre></div><h3 id="x-env-var" tabindex="-1">x env var <a class="header-anchor" href="#x-env-var" aria-label="Permalink to &quot;x env var&quot;">​</a></h3><p>备份或恢复环境</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">#</span><span style="color:#F97583;">1&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">var</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">#</span><span style="color:#D73A49;">1&gt;</span></span></code></pre></div><ul><li><strong>参数</strong> :</li></ul><div class="table-wrap"><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>#1</code></td><td>展示, 备份, 恢复环境变量<br><code>backup</code> | <code>get_backup</code> | <code>ls</code> | <code>recover</code></td></tr></tbody></table></div><ul><li><strong>例子</strong> :</li></ul><p>把当前 node 的 PATH 记录在叫 np 和 jp 的变量中; 备份版本为 node 的环境</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">np</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">node_PAT</span><span style="color:#E1E4E8;">H</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">; jp</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">java_PAT</span><span style="color:#E1E4E8;">H</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> x env var backup np jp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">np</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">node_PAT</span><span style="color:#24292E;">H</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">; jp</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">java_PAT</span><span style="color:#24292E;">H</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> x env var backup np jp</span></span></code></pre></div><p>显示变量</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">var</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span></span></code></pre></div><p>展示 np 变量中存放的 PATH</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get_backup</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">np</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">var</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get_backup</span><span style="color:#24292E;"> </span><span style="color:#032F62;">np</span></span></code></pre></div><p>恢复 np 和 jp 变量中所记录的环境</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">recover</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">np</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">jp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">var</span><span style="color:#24292E;"> </span><span style="color:#032F62;">recover</span><span style="color:#24292E;"> </span><span style="color:#032F62;">np</span><span style="color:#24292E;"> </span><span style="color:#032F62;">jp</span></span></code></pre></div><p>恢复所有变量所记录的环境</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">recoverall</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">var</span><span style="color:#24292E;"> </span><span style="color:#032F62;">recoverall</span></span></code></pre></div><h3 id="x-env-ll" tabindex="-1">x env ll <a class="header-anchor" href="#x-env-ll" aria-label="Permalink to &quot;x env ll&quot;">​</a></h3><p>显示所有软件和语言及其分类</p><ul><li><strong>使用</strong> :</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ll</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ll</span></span></code></pre></div><ul><li><strong>例子</strong> :</li></ul><p>显示所有可安装的语言和应用程序及其对应的类别</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ll</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">env</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ll</span></span></code></pre></div><br>',107),C=s("h2",{id:"相关链接",tabindex:"-1"},[a("相关链接 "),s("a",{class:"header-anchor",href:"#相关链接","aria-label":'Permalink to "相关链接"'},"​")],-1),b=s("div",{class:"tip custom-block"},[s("p",{class:"custom-block-title"},"TIP"),s("p",null,[a("在交互式终端中（如 zsh, bash ...），可以使用 "),s("kbd",null,"Tab"),a(" 获取补全信息")]),s("p",null,[a("运行 "),s("code",null,"CMD SUBCOMMAND --help"),a(" 可以获取命令的更多信息")])],-1);function x(B,k,m,_,A,f){const p=l("Terminal"),e=l("AdsContent"),t=l("DocsGroupTable"),c=l("DocsLinkCard");return y(),d("div",null,[h,F,n(p,{speg:"mod/env",name:"x env",desc:"环境管理管理",size:"large"}),v,n(e),g,n(t,{header:'["名称","描述"]',group:'{"environment management":{"active":true,"data":[{"name":"<a href=\\"#x-env-ls\\">x env ls</a>","desc":"列出正在使用或可用的候选版本"},{"name":"<a href=\\"#x-env-which\\">x env which</a>","desc":"显示已安装环境的路径"},{"name":"<a href=\\"#x-env-use\\">x env use</a>","desc":"设置全局环境版本"},{"name":"<a href=\\"#x-env-unuse\\">x env unuse</a>","desc":"删除环境"},{"name":"<a href=\\"#x-env-try\\">x env try</a>","desc":"在此 shell 的会话中设置环境版本"},{"name":"<a href=\\"#x-env-untry\\">x env untry</a>","desc":"停用并记录环境版本"},{"name":"<a href=\\"#x-env-remove\\">x env remove</a>","desc":"删除指定软件包的指定版本，若不指定版本则删除当前由 x env use 设置的版本"},{"name":"<a href=\\"#x-env-ll\\">x env ll</a>","desc":"显示所有软件和语言及其分类"},{"name":"<a href=\\"#x-env-boot\\">x env boot</a>","desc":"设置必要的环境变量。例如 java 的 JAVA_HOME"}]},"global":{"active":true,"data":[{"name":"<a href=\\"#x-env-exec\\">x env exec</a>","desc":"使用选定的候选版本运行可执行文件"},{"name":"<a href=\\"#x-env-var\\">x env var</a>","desc":"备份或恢复环境"}]},"$NotGroup":{"active":true,"data":[]}}'}),u,n(c,null,{default:i(()=>[C]),_:1}),b])}const P=r(E,[["render",x]]);export{q as __pageData,P as default};
